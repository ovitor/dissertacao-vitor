\chapter{Fundamentação Teórica}\label{cap:fundamentacao-teorica}

Este capítulo apresenta a fundamentação teórica, separada em aspectos de saúde e
tecnológicos. As seções de saúde abordam termos como Assistência Domiciliar à
Saúde e suas particularidades, além de explanar, brevemente, sobre a história da
hospitalização no Brasil. As seções \ref{sec:aspectos-tecnologicos} tratam das
tecnologias e conceitos tecnológicos utilizados neste trabalho.

%\section{Aspectos de Saúde} \label{sec:aspectos-de-saude}
\section{Assistência Domiciliar à Saúde} \label{sec:ads}

Segundo \citeonline{inaia2008}, uma das primeiras instituições voltadas para o
cuidado com a saúde foi a fundação da Santa Casa de Misericórdia de Santos, em
1543, cuja principal atividade era prestar assistência de cunho caritativo a
pessoas pobres e desabrigados. Tal estrutura permanece inalterada até o final do
século XIX, e início do século XX.

Com o Governo Getúlio Vargas, a partir de 1930, ocorre no Brasil o processo de
industrialização, que trouxe crescimento rápido e desordenado às cidades,
principalmente São Paulo e Rio de Janeiro. As transformações econômicas e
sociais resultantes desse processo, a falta de saneamento básico, a pobreza etc
foram motivos para que parte da população reivindicasse mais atenção do Governo
em relação aos cuidados de saúde \cite{carvalho1984}.

\citeonline{carvalho1984} indica, ainda, que apesar dessa pressão, não existiu
uma política de saúde clara por parte das autoridades. Muitas vezes, algumas
ações se voltavam para a criação de condições sanitárias mínimas, que se
mostravam limitadas frente às reais necessidades da população. Dessa forma, as
décadas subsequentes não foram significativas no tocante a uma ampliação dos
serviços de saúde oferecidos à população.

Conforme análise de \citeonline{inaia2008}, ainda nos anos 1970, surgem
tentativas de universalizar o acesso à assistência à saúde. Alguns programas e
sistemas foram iniciados, sendo válido citar, (i) Sistema Único e
Descentralizado de Saúde, o SUDS e (ii) o Sistema Único de Saúde, o SUS.
Entretanto, em virtude da vigência da ditadura militar, implantada em 1964, que
levou o país a vivenciar um estado de exceção, tais propostas não conseguiram se
concretizar. Assim, somente no período da redemocratização, ocorrida em meados
dos anos 1980, é que o SUS foi criado oficialmente pela Constituição Federal de
1988, Lei 8080/90\footnote{Acessível em
\url{http://www.planalto.gov.br/ccivil_03/leis/L8080.htm}}, com o  objetivo de
garantir à população Brasileira, o acesso universal às ações e  serviços de
saúde.

Paralelo à criação do Sistema Único de Saúde (SUS), ocorreu o avanço
tecnológico que alcançou a prática médica, aperfeiçoando, com isso a
infraestrutura hospitalar. Dessa forma, os hospitais deixaram de ser espaços
para abrigarem pobres desamparados e passaram a proporcionar tratamentos mais
elaborados. O hospital passa a oferecer  procedimentos cirúrgicos, atendimentos
de urgência, internações, tornando a instituição complexa, com uma atuação de
caráter menos íntimo e acolhedor. Além disso, estudiosos começam a identificar
a possibilidade de tratamentos e cuidados com a  saúde que não estejam,
necessariamente, vinculados ao ambiente hospitalar.

Como consequência, surgiram diversas mudanças no atendimento, onde a Assistência
Domiciliar à Saúde (ADS) se tornou uma modalidade disponível.

%\subsection{Assistência Domiciliar à Saúde}
%\label{subsec:assistencia-domiciliar-a-saude}

A Assistência Domiciliar à Saúde (ADS) divide-se basicamente em grupos de
enfermagem e fisioterapia - nas modalidades mais básicas - até um atendimento
multiprofissional, possibilitando um apoio ao paciente como um todo. A ADS pode
ser provida tanto pelo setor privado quanto pelo setor público
\cite{amaral2001assistencia}.

Os primeiros registros da ADS no Brasil surgem em 1967, na cidade de São
Paulo, no Hospital do Servidor Público. O principal objetivo dessa abordagem
era a liberação de leitos no hospital, levando para o domicílio procedimentos
básicos, de baixa complexidade clínica.

No começo da década de 90, segundo \citeonline{tavolari2000desenvolvimento},
houve um aumento na quantidade de empresas privadas provendo o serviço de ADS,
com atuação de cinco empresas que prestavam esse tipo de  serviço. Já em 1999,
esse número subiu, consideravelmente; para mais de 180
\cite{tavolari2000desenvolvimento}.

\citeonline{amaral2001assistencia} define a ADS como uma sequência de serviços
residuais a serem oferecidos, depois que o indivíduo já recebeu atendimento
primário e prévios, ou seja, aquele que já recebeu atendimento primário com
consequente diagnóstico e tratamento.

\citeonline{amaral2001assistencia} lembram, ainda, que o atendimento domiciliar
pode acelerar a recuperação do  paciente e promover a redução de custos
hospitalares, além de ser uma solução mais  humanista para os portadores de
doenças crônicas ou de longa duração, frente à  hospitalização. Dessa forma, a
assistência domiciliar à saúde tem como objetivos principais: (1) humanização
no atendimento; (2) maior rapidez na recuperação do paciente, devido à
proximidade com os seus familiares; (3) diminuição do risco de infecção
hospitalar; (4) Otimização de leitos hospitalares para pacientes que deles
necessitem; e (5) Redução do custo/dia da internação.

\subsection{Envolvidos}\label{subsec:envolvidos}

Para o entendimento geral da modalidade ADS, faz-se necessário separar e
explicar a atuação de cada um dos envolvidos. O paciente, para quem está
voltado, fundamentalmente, todo o sistema, é aquele que sofre algum problema
físico ou mental. A família é responsável por prover um ambiente propício à
melhora do paciente.

Outra figura importante na atenção ao paciente é a equipe multiprofissional -
composta de médicos, enfermeiros, psicólogos, terapeutas, assistentes sociais,
farmacêuticos, cuidadores e outros - visando propiciar, através da integração
das diversas áreas de conhecimentos, a melhoria efetiva do paciente.

O cuidador, muitas vezes, é um familiar, alguém próximo à família ou alguém
contratado. Seu papel principal é cuidar do paciente, ajudando nas tarefas
diárias, como alimentação, lazer, socialização, limpeza do paciente, entre
outros \cite{amaral2001assistencia}.

%Embora as pesquisas indiquem que o tratamento domiciliar ajuda na recuperação do
%paciente, devido sua presença no seio familiar, também sabemos das dificuldades
%que os cuidadores enfrentam. exemplo quando são familiares, que muitas vezes, 
%negam a dar atenção, ou desempenhar determinadas funções.

\subsection{Terminologia}\label{subsec:terminologia}

Apesar de não haver uma definição formal, a Assistência Domiciliar à Saúde pode
ser separada em três modalidades, diferenciadas, principalmente, pelo grau de 
atenção dispensada ao paciente. 

É defendido por Tavolari, Fernandes e Medina, que o termo Assistência Domiciliar
à Saúde é genérico e referente a todo e qualquer procedimento de saúde realizado
em domicílio, não importando o grau de complexidade. Já o termo Internação
Domiciliar é aplicado quando, dos procedimentos realizados, o cuidado intensivo
e multiprofissional é perceptível, caracterizando-se ainda, pelo transporte de
parte da estrutura hospitalar para o domicílio do paciente. O paciente, nesse
caso, é categorizado com complexidade alta ou moderada.
Já no Atendimento Domiciliar, o paciente encontra-se num estado de menor 
complexidade médica, e a atenção a ele dispensada pode ou não ser realizada por
uma equipe multiprofissional \cite{tavolari2000desenvolvimento}.

\figuradupla{ads-tavalori}{Representação gráfica das categorias defendida 
por Tavolari, Fernandes e Medina}{ads-giacomozzi}{Representação gráfica das 
categorias defendida por Giacomozzi}

\citeonline{giacomozzi2006pratica} faz uma inversão das categorias propostas
por \citeonline{tavolari2000desenvolvimento} e  define Atenção Domiciliar à
Saúde como um termo mais genérico, englobando o atendimento, a visita e as
internações domiciliares \cite{giacomozzi2006pratica}. Segundo a autora, a
atenção domiciliar é ``um componente do \textit{continuum} dos cuidados à
saúde, pois os serviços de saúde são oferecidos ao indivíduos e sua família
[...] minimizando os efeitos das incapacidades ou doenças, incluindo aquelas
sem perspectiva de cura.'' Já o termo Assistência Domiciliar à Saúde, é formado
por atividades de cunho ambulatorial, adicionando a essa categorização a
modalidade Visita Domiciliar, voltada para verificar a realidade do paciente,
além de realizar ações educativas.

A despeito da diversidade de categorização apresentada pelos autores, ao nosso
trabalho interessa tanto aqueles pacientes que inspiram maiores cuidados,
correndo, inclusive, risco de vida, quanto aqueles que demandam menos
preocupações - mas que, invariavelmente, estão sob os cuidados fora do
ambiente hospitalar.

\section{Internet das Coisas} \label{sec:iot}

Nesta seção serão abordados o histórico e o surgimento do termo
Internet das Coisas (\textit{Internet of Things}, IoT), definições
na literatura, arquiteturas e exemplos de aplicações de IoT nas cidades,
na zona rural, e na saúde.

\subsection{Histórico} \label{subsec:iot-historico}

No final dos anos 90, \citeonline{ashton2009internet} defendeu que a Internet
das Coisas tinha potencial para mudar o mundo, assim como a Internet mudou.
Desde então pesquisas em diversas áreas, a inovação tecnológica e a atualização
de conceitos já existentes possibilitou o surgimento da tecnologia Internet das
Coisas (\textit{Internet of Things - IoT}).

O termo IoT, apesar de recente, remete a estudos realizados no final da década
de 1990. Antes de IoT, termos como ``computação ubíqua'' e ``computação pervasiva''
eram os tópicos quentes\footnote{Tópicos quentes são tópicos que estão em relevância
na época em questão (final da década de 1990) em que muitos pesquisadores depositam seus 
estudos.} nas pesquisas acadêmicas.

A época dos estudos, percebia-se o distanciamento ou o desaparecimento da
figura ``computador pessoal (PC)'', em nosso cotidiano. A tecnologia estava
difundida ao ponto do termo  ``era pós pc'' ser encontrado em diversos estudos
\cite{bonilla2011inclusao,  chen2011pospc, press1999personal} nas áreas de
sistemas embarcados e tecnologias móveis.

Além disso, os estudos abordavam a convergência das diversas tecnologias 
através de: troca constante de informações por meio melhoria nos meios de comunicação,
na melhoria no poder computacional dos sistemas embarcados, na melhoria contínua 
das baterias etc, proporcionando um ambiente em que seria possível encontrar
tecnologia em todo lugar \cite{lyytinen2002ubiquitous}.

À essa tecnologia ``em todo lugar'' e ao distanciamento do usuário com o
computador pessoal deu-se o nome de computação ubíqua.
\citeonline{weiser1991computer}, considerado o pai desse termo, antecipou que
encontraríamos tecnologia nos diversos objetos do nosso cotidiano, tais como
etiquetas de roupas e alimentos, cadeiras, geladeiras, lixeiras, interruptores
de luzes etc. Essa previsão de Weiser já se concretizou em vários dispositivos.

\figurasimples{pervasive-marwedel}{Representação gráfica das influências nas 
áreas de sistemas embarcados, computação ubíqua/pervasiva e meios de 
comunicação.}{12cm}

Muitas vezes, a tecnologia inserida nesses objetos é invisível para o usuário
final e essa transparência era defendida por \citeonline{weiser1991computer} para
apresentar um outro termo, a ``computação pervasiva'', assim definida pelo
autor: ``(...) criar  um computador tão embarcado, tão natural que o usaríamos
sem nem pensar sobre ele''. Além disso, computação pervasiva está relacionada à
capacidade de dispositivos serem embarcados no mundo físico, obtendo
informações do meio para auxiliar na computação, integrando, dessa forma, o
ambiente físico e o mundo virtual \cite{bolsoni2009computaccao,
de2003computaccao}. A figura  \ref{fig:pervasive-marwedel} demonstra a
interligação entre as áreas de sistemas embarcados, computação ubíqua e
pervasiva com as tecnologias de comunicação.

Segundo \citeonline{hansmann2013pervasive}, a computação pervasiva tem 4 princípios 
fundamentais, detalhados a seguir: 

\begin{description}
  \item [Descentralização] os diversos dispositivos cooperam entre si e realizam
  pequenas tarefas e funções, contribuindo para o estabelecimento de uma 
  dinâmica rede de comunicação; Podemos citar como exemplo os diversos 
  dispositivos implantados na casa proporcionando conectividade em toda
  a extensão da casa.
  \item [Diversificação] diferente do computador de propósito geral - que 
  proporciona a execução de várias tarefas - cada dispositivo tem um propósito
  específico atendendo a necessidades únicas; podemos citar, como exemplo, um
  sensor para leitura do nível de oxigênio no sangue, um relógio inteligente
  que conta quantos passos uma pessoa deu durante o dia etc; dentro dessa 
  diversidade, cada um desempenha uma função específica.
  \item [Conectividade] os dispositivos devem interagir de maneira transparente
  e aqueles que são móveis, devem mudar entre redes heterogêneas, sem o 
  auxílio de um usuário; a conectividade diz respeito, também, à relação 
  transparente entre dispositivo e usuário; 
  \item [Simplicidade] as funções desempenhadas pelos dispositivos devem ser
  simples e de fácil execução. Existem tipos de dispositivos que não requerem 
  uma interação com o usuário; outros, no entanto, exigem alguma configuração e,
  nestes casos, a interação deve manter-se simples, capaz de oferecer acesso
  rápido ao usuário. 
\end{description}

Com isso, os estudos foram aplicados, inicialmente, a tecnologias como RFID
(\textit{Radio Frequency Identification} ou Identificação por
rádio-frequência).  Essa tecnologia permitia a identificação de objetos através
de \textit{tags} e leitores. As \textit{tags}, em sua maioria, são do tipo
passiva, ou seja, os leitores é que devem emitir a energia necessária para que
ela funcione. Há ainda as \textit{tags} ativas - com bateria interna enviando
sua identificação periodicamente - e semi-passivas - com bateria interna,
porém, envia sua identificação apenas quando um leitor se aproxima
\cite{want2006introduction}. A aplicabilidade desta tecnologia se da, 
principalmente, para identificar e rastrear um objeto.

Em seguida, as Redes de Sensores Sem Fio (\textit{Wireless Sensor Network}, WSN)
foram ganhando espaço nos estudos acadêmicos. As redes são constituídas de nós
que monitoram o ambiente ou as condições do ambiente em que estão inseridos.
Cada nó está conectado a um ou mais nós, dessa maneira os dados são repassados
até um nó principal (nó \gateway), tornando o dado disponível
\cite{lewis2004wireless}.

Posteriormente, as \textit{smart things} colaboraram para o surgimento do IoT.
Através da computação móvel e de dispositivos conectados foi possível explorar
a cooperação entre dispositivos, tais como os \smartphones[] e \smartwatches.

Possibilitado por todo o avanço tecnológico descrito anteriormente e em
conjunto com as várias tecnologias, o IoT, através de uma conexão à redes sem
fio mais rápida, através de sistemas embarcados menores e com a possibilidade
de aplicar análises preditivas aos dados coletados, torna-se realidade.

\figuraadaptada[li2015internet]{historico-iot}{Histórico das tecnologias que 
fundamentaram o surgimento da \textit{Internet of Things}.}{12cm}

%No que concerne à assistência domiciliar à saúde, as pesquisas nas áreas de
%computação ubíqua e pervasiva são as mais diversas. Isso porque o domicílio é
%um ambiente propício à aplicação dessas técnicas. A utilização de sensores,
%como demonstrado no estudo de \citeonline{warren2002sensors}, em que sensores
%vestíveis são empregados na leitura de oxigênio do paciente e o envio dos dados
%à um sistema de monitoramento pessoal para posterior processamento exemplifica
%a utilização da computação pervasiva, uma  vez que os dados coletados se tornam
%disponíveis a qualquer momento.

\subsection{Definições} \label{subsec:iot-definicoes}

Na revisão sistemática sobre IoT, \citeonline{li2015internet}, defende IoT como
parte da Internet do futuro, sendo constituída de bilhões de ``coisas''
inteligentes que se comunicam entre si. Já \citeonline{pretz2013next} define
IoT como um conjunto de coisas conectadas por uma rede sem fio e que são
capazes de interagir entre si, sem interferência humana. Já
\citeonline{guillemin2009internet} define: IoT permite que pessoas e coisas
estejam conectadas a qualquer hora, em qualquer lugar com qualquer coisa e
qualquer um, preferencialmente usando uma rede e qualquer serviço.

A IoT é um conceito em que o mundo virtual da tecnologia da informação se 
integra perfeitamente com o mundo real das coisas. Detecção do \textit{status}
das coisas através de sensores em adição a coleta e processamento de dados
detalhadamente, permite que sistemas respondam de imediato a qualquer mudança
no mundo físico \cite{uckelmann2011architectural}.

Um grupo Europeu de pesquisa em IoT definiu: (IoT como) uma parte integrante da
Internet do Futuro, tornando-se parte da infraestrutura de uma dinâmica rede
global com capacidade de autoconfiguração baseada em padrões e protocolos
de comunicação interoperáveis em que ``coisas'' possuem identidade, atributos
físicos e personalidade virtual além de possuírem interfaces inteligentes e
estarem integrados com a rede de informação \cite{cerpiot2009}.

Além disso, \citeonline{guillemin2009internet} espera que as ``coisas''
de IoT se tornem participantes ativas em processos sociais, de negócio e de 
informação - preparadas para se comunicar entre si e com o ambiente -
ao trocar dados e informações sobre o ambiente em que estão inseridos ao mesmo
tempo que reagem de forma autônoma com o mundo real. Possibilitando a criação
de serviços com ou sem a intervenção direta de um ser humano.

\figurasimples[perera2014context]{iot-perera}{Ilustração da definição de IoT.}{8cm}

IoT habilita sistemas, portanto, a capturar, armazenar e transmitir dados de modo que
cresce a quantidade de áreas atendidas por esse tipo de tecnologia.
Alimentação, segurança, indústrias, logística, turismo e armazenamento são
algumas das áreas em que a aplicação de IoT é abrangente e traz benefícios
\cite{xu2014ubiquitous}.

\subsection{Aplicações} \label{subsec:iot-aplicacoes}

IoT pode ser aplicado a diversas áreas, porém, os três principais grandes 
domínios que o IoT está sendo aplicado são: (1) cidades inteligentes, 
(2) indústria e (3) saúde.

Cidades inteligentes englobam, por exemplo, tópicos como mobilidade urbana
inteligente e turismo inteligente. Através do monitoramento do tráfego, será
possível oferecer novas rotas de deslocamento, compartilhar modais (bicicletas,
ônibus, metrô e carros) para alcançar o destino rapidamente e sugerir rotas
alternativas para bombeiros, policiais ou serviço de emergência em saúde. As
vegetações nas praças urbanas podem ser irrigadas de acordo com a presença ou
não das chuvas. A iluminação das vias públicas podem ser acionadas apenas
quando na presença de pessoas. Assim como o turismo, que também pode ser
beneficiado através de melhores meios de transporte na cidade. 

\textit{Smart grid} é um outro tópico ligado a cidades inteligentes. Através
das aplicações nesta área será possível identificar falhas na rede elétrica em 
tempo real e proporcionar melhores prestações de serviço aos usuários. Casas
e prédios inteligentes entram nessa categoria também.

Ligado a estes tópicos, casas inteligentes têm sido uma área de aplicação de
IoT bastante ativa. Através de sensores e interfaces de comunicação, os objetos
da casa ganham novas funções. A patente de \citeonline{yang2005trash} registra
uma lixeira inteligente que abre sua tampa de acordo com a proximidade do
usuário. Já a pesquisa de \citeonline{hou2013} demonstra a utilização de
sensores em uma geladeira. A partir de um sistema de gerenciamento da geladeira
é possível ter informações das comidas e recomendar receitas para o usuário de
acordo com os alimentos disponíveis, além de verificar quais itens estão
próximos do final da validade ou faltantes e gerar uma lista de compras
personalizada.

A área da indústria será também uma das mais beneficiadas com as aplicações em IoT.
São tópicos de relevante interesse, agricultura e pecuária, logística e 
processos industriais em geral. O rastreio e identificação do animal pode ser
auxiliado pelo IoT, assim como o plantio de monoculturas, monitoramento e 
irrigação, até mesmo o armazenamento dos grãos pode ser acompanhado em tempo
real. Já nos processos industriais, o IoT pode auxiliar em todo o processo
de produção de veículos por exemplo. No que se refere a logística, o gerenciamento
do armazenamento e do inventário, além de todo o processo de entrega pode
ser monitorado por IoT.

O domínio da saúde listado anteriormente, tem os seguintes tópicos principais:
cuidados médicos e de saúde e vida independente para idosos e doentes, este último
está intimamente ligado a este trabalho e é um dos tópicos mais estudados, tendo
como base IoT e cuidado da saúde.

Os ganhos para os idosos são perceptíveis, o IoT visa possibilitar um ambiente
onde ele tenha assistência sempre que precisar. Através do monitoramento de 
sinais vitais e do comportamento diário é possível inferir sobre o estado 
de saúde do idoso. A captura de sinais vitais pode ajudar, ainda, no diagnóstico
de uma doença ainda por vir.

Por exemplo, os dispositivos \smartphones e \smartwatches, sensores médicos e até 
mesmo roupas inteligentes permitem que o indivíduo que os carrega, tenha um poder 
computacional que o permita utilizar serviços que um computador oferece, 
independentemente da sua localização \cite{de2003computaccao}.

%Apesar da capacidade de trocar dados entre si, alguns autores como, Dada e
%Thiesse, Broll e Gama et al argumentam que a falta de padrões pode diminuir a
%competitividade de produtos IoT. Por esse motivo, esses mesmos autores
%trabalham em comissões internacionais para padronizar protocolos de
%comunicação.

A área de atendimento domiciliar, portanto, é uma importante área de aplicação de IoT.
Segundo \citeonline{xu2014ubiquitous}, IoT é adotado para melhorar a qualidade
do serviço e reduzir custos. Um número cada vez maior de sensores médicos e
dispositivos capazes de capturar sinais vitais do paciente  - como por exemplo
temperatura corporal, nível de glicose no sangue, e pressão sanguínea - estão
surgindo, possibilitando um monitoramento do paciente em tempo real.

O gráfico da figura \ref{fig:circulo-iot} ilustra o que foi descrito
anteriormente de forma circular o que remete a interoperabilidade entre as
áreas citadas.

\figuraadaptada[gil2016internet]{circulo-iot}{Ilustração das áreas em que o IoT
poderá atuar e suas conexões.}{10cm} 

\section{Plataforma OpenIoT}\label{sec:openiot}

Com o intuito de tratar a grande quantidade de dados provenientes de todas as
``coisas'', os grupos de pesquisa, estudaram e desenvolveram middlewares com as
mais diversas características. Desse grupo destacam-se as soluções: (1) Kaa\footnote{Kaa é um
middleware para IoT disponível em \url{https://www.kaaproject.org}},
(2) Thingsboard\footnote{Thingsboard é uma plataforma que permite o monitoramento 
e controle dos dispositivos IoT, disponível em \url{https://thingsboard.io}} e (3) OpenIoT
\footnote{OpenIoT está disponível em \url{http://www.openiot.eu/}}.

Dos três listados anteriormente, este trabalho verificou que a plataforma
OpenIoT foi a que mais contribuiu, em termos de ideias, conceitos e arquitetura
para a solução proposta. Apesar de apresentarem casos de uso para cidades
inteligentes, indústria e até mesmo cuidados de saúde, não foi encontrado na
literatura tal documento que indique o mesmo para as outras duas abordagens,
uma vez que elas tem um viés mais comercial.

Constatamos, portanto, que o OpenIoT - uma plataforma mantida pela União
Européia para Pesquisa e Inovação (FP7 - European Union's Research and
Innovation) - tem como objetivo principal a implantação de uma infraestrutura
de middleware capaz de integrar soluções de Internet das Coisas.

O projeto enfatiza a convergência de Internet das Coisas e computação em nuvem,
habilitando esses dois tópicos através de interoperabilidade semântica e dados
ligados (\textit{Linked Data}), desse modo, torna-se possível fornecer aos interessados
uma ``nuvem de coisas''.

A plataforma conta ainda com uma ontologia para padronizar a representação de
sensores físicos e virtuais. Além disso, o middleware facilita a coleta de
dados e garante o entendimento semântico da informação proveniente do sensor.
Por fim, é pontuado no estudo, a habilidade da plataforma de lidar com sensores
móveis, possibilitando que uma série de aplicações sensitivas enviem dados para
a plataforma.

OpenIoT foi arquitetado com 3 grandes seções: Aplicações e Utilitários, Plano
virtualizado e Plano físico. A figura \ref{fig:arquitetura-openiot-2} ilustra as
seções, seus módulos e suas conexões. Em seguida é detalhado as partes que
compõem a plataforma OpenIoT.

\figurasimples[soldatos2015openiot]{arquitetura-openiot-2}{Arquitetura
plataforma \textit{OpenIoT}}{13cm}
    
A área de Aplicações e Utilitários é composta por três módulos. O principal
objetivo desses módulos é permitir que o usuário final possa visualizar os
dados (\textit{Request Presentation}) comunicando-se diretamente com o módulo
\textit{Service Delivery and Utility Manager}.  Já o módulo \textit{Request
Definition} permite que o usuário defina um conjunto de requisições a serem
executadas pela plataforma OpenIoT. Por fim, o módulo \textit{Configuration and
Monitoring} permite que o administrador do sistema tenha uma visão de
gerenciamento e configuração das funcionalidades dos sensores conectados a
plataforma. 

A camada do meio, nomeada de Plano virtualizado, também contém três módulos. O
\textit{Scheduler} agenda as requisições definidas no módulo \textit{Request
Definition}, além disso, realiza constantes requisições a procura de novos
sensores a serem adicionados a plataforma OpenIoT. Já o módulo \textit{Linked
Stream Middleware} é responsável por persistir os dados dos sensores, é neste
módulo que os dados são guardados levando em consideração a semântica deles,
adicionado a isso, as configurações e informações gerais referentes ao
funcionamento do OpenIoT são guardados também nessa camada. Por fim, o
\textit{Service Delivery and Utility Manager} é responsável por consultar no
banco de dados e retornar essa consulta para o módulo \textit{Request
Presentation}.

A terceira camada, Plano Físico, é composto por um módulo apenas. O Sensor
Middleware é responsável pela aquisição dos dados de sensores reais ou
virtuais. Ele atua como um gateway entre o mundo real e o virtual (plataforma
OpenIoT). Se comunica diretamente com o \textit{Linked Stream Middleware}
possibilitando a persistência dos dados.

Percebe-se, através da descrição dos módulos, que a arquitetura está bem
estruturada e que cada módulo tem seu papel definido. Além disso, a
possibilidade de interoperabilidade semântica e \textit{Linked Data} é um
atrativo para a plataforma. A captura de dados tanto de sensores reais quanto
sensores virtuais garante uma grande quantidade de dados. Por outro lado,
apesar da documentação garantir que o usuário não precisa ser do meio técnico,
é necessário bastante conhecimento da plataforma para a correta utilização. 

\section{Sistemas Embarcados}\label{sec:sistemas-embarcados}

Sistemas Embarcados estão inseridos em nossos cotidianos. Aparelhos como
\smartphones[], \tablets[] - com alto poder de processamento,
produtos comumente encontrados em nossas casas, a exemplo do forno de 
micro-ondas, geladeiras e máquinas de lavar roupas, até computadores de bordo e
controle de freios ABS (\textit{Anti-lock Breaking System})\footnote{ABS:
Tecnologia  de freio considerada segura pois seu funcionamento impede que, em
uma brecada brusca, as rodas  deslizem, tornando difícil controlar o veículo} em
nossos carros, contêm sistemas embarcados. Essa diversidade de aplicações
explicita a importância dessa área.

Nos exemplos citados anteriormente, temos uma classificação quanto à sua
funcionalidade, porém, sua definição não é simples, nem muito menos taxativa,
uma vez que possuem uma grande complexidade em sua composição. Dessa forma,
podemos definir, a princípio, sistemas embarcados como qualquer
dispositivo/equipamento que disponha de um sistema programável e que seu
objetivo não seja o de um computador de propósito geral\footnote{Computador de
propósito geral é aquele em que é possível executar as mais diversas tarefas,
tais como, navegar na Internet, escrever documentos, executar jogos etc, ou
seja, não há uma função específica a ser realizada. Pelo exposto, percebe-se a
complexidade da definição de sistemas embarcados, uma vez que, muitos deles, 
desempenham funções que antes cabiam apenas ao computador de propósito geral.}
\cite{wolf2012computers}.

\citeonline{marwedel2010embedded} define: ``Sistemas Embarcados (como) sistemas
de processamento de informações incorporados à produtos.'', e, adicionado à
esta definição, lista 5 características que devem levar em consideração: 

\begin{itemize}
  \item Segurança - ou seja, os dados confidenciais transmitidos ou recebidos pelo
  equipamento devem permanecer confidenciais e a comunicação deve ser autêntica;
  \item Seguro - característica indicativa de que o sistema não causará nenhum dano àqueles que o utilizam;
  \item Disponibilidade - sistema disponível para executar as funções para as quais
  foi programado; 
  \item Confiabilidade - probabilidade que o sistema tem de que não
  falhará em sua execução; e
  \item Manutenibilidade, caso o sistema venha a falhar, deverá 
  ser consertado em uma determinada janela de tempo.
\end{itemize}

Além disso, propriedades como sensores coletando informações do ambiente
físico e atuadores controlando o ambiente no qual estão inseridos também
caracterizam um sistema embarcado \cite{marwedel2010embedded}.

\subsubsection{Arquitetura}\label{subsubsec:arquitetura}

A literatura divide o sistema embarcado em duas áreas, o \hardware[] e o 
\software. O primeiro é composto pelas partes físicas do sistema, 
tal como o processador, memória, interfaces de entrada e saída etc. O segundo é
composto pelos componentes lógicos do sistema, ou seja, os programas que 
irão executar as funções previamente definidas do sistema embarcado.

No processo de \design[] do sistema embarcado considera-se, dentro dos
requisitos de \hardware, quais dos processadores disponíveis no mercado atende
melhor a necessidade do projeto, assim como é necessário identificar a
quantidade de memória a ser utilizada pelo \software[]. 

Ainda referente ao processo de design é necessário determinar quais serão as
interfaces de entrada (responsáveis por receber os dados para posterior
processamento) e as interfaces de saída (responsáveis por apresentar os dados
processados). Em paralelo, os requisitos de \software[] são alinhados para que o
\hardware[] seja melhor aproveitado \cite{wolf2012computers}.

A depender da finalidade do produto, esses requisitos diferem bastante. Por
exemplo, o sistema embarcado responsável por controlar uma máquina de lavar é
simples (em termos de funcionalidade, processamento, consumo de energia etc),
uma vez que aplica um componente microcontrolador de baixo poder de
processamento (tal qual um microcontrolador PIC\footnote{Família de
microcontroladores desenvolvido e fabricado pela empresa \textit{Microchip
Technology} comumente utilizado em sistemas embarcados que não necessitam de
muito processamento.} de 16 bits) e um circuito auxiliar para atender as
especificações de entrada e saída do sistema, assim como uma possível
comunicação com outros sistemas.

Já o sistema embarcado em um \smartphone[] realiza diversas funções, tem um
alto nível de processamento de dados e consome muita energia. Para atender a
estes requisitos, a equipe responsável pelo \design[] utiliza vários
processadores de alto poder computacional (tal qual processadores
ARM\footnote{ARM - \textit{Advanced RISC Machine}. Empresa que desenvolve 
processadores de arquitetura RISC, comumente utilizados em sistemas
embarcados que necessitam de um poder de processamento alto.}), como interface
de entrada e saída uma tela sensível ao toque e faz uso, ainda, de diversos
sensores para ajudar na usabilidade do dispositivo.

Semelhante aos \smartphones, o sistema embarcado utilizado neste trabalho, o
\stb[], processa grande quantidade de dados, além de realizar
diferentes funções. Em que pese tais diferenças, o \hardware[] utilizado é
bastante semelhante.

\section{Aplicações Sensíveis ao Contexto}\label{sec:contexto}

O dicionário \citeonline{houaiss2001dicionario} define contexto como um conjunto de palavras, frases ou
texto que precede ou se segue a determinada palavra, frase ou texto e que
contribuem para o seu significado. Podemos entender desta definição que contexto
são circunstâncias que acompanham a situação ou determinado fato. A depender do
contexto, nos portamos de maneira diferente, como por exemplo: nos portamos de
uma maneira no ambiente de trabalho (contexto) e de uma maneira diferente quando
estamos na praia (contexto).

% Na comunicação entre pessoas, aproveitamos o contexto para facilitar, ou ainda,
% acelerar a velocidade da conversa, mas não é fácil a utilização de contexto nas
% comunicações homem-máquina.

Apesar de exemplificar de maneira clara o que é contexto, esse tipo de definição
apresentada anteriormente é de difícil aplicação na área da computação.
Outras abordagens com definições mais específicas foram surgindo com o
passar do tempo. No trabalho de \citeonline{schilit1994context} são definidos 3 aspectos
importantes para o contexto, (1) onde você está, (2) com quem você está e (3)
quais recursos estão próximos. \citeonline{pascoe1998adding} define contexto 
como um conjunto de estados de interesse conceituais e físicos para uma entidade 
em particular.

O desenvolvedor precisa identificar se determinada informação é contexto ou não
para determinada aplicação em determinado momento. Tomando como exemplo uma
aplicação móvel de acompanhamento de um \textit{tour} em um museu a céu aberto, 
tanto as informações de tempo (clima, precipitação, umidade etc) quanto as 
informações de pessoas (quantidades em cada setor) são informações de contexto, 
já em locais fechados, a informação de tempo não representa uma informação de 
contexto.

\citeonline{davies1999caches} realizou um trabalho semelhante ao apresentado
acima. Foi desenvolvido uma aplicação de guia turístico sensível a contexto
para a cidade de \textit{Lancaster} na Inglaterra. A solução combinava
computação móvel, comunicação sem fio e sistemas embarcados para prover
aplicações interativas \cite{davies1999caches}.

No sentido de simplificar o desenvolvimento de aplicações sensíveis ao
contexto, \citeonline{dey2001understanding} define ``contexto (como) qualquer
informação que pode ser utilizada para caracterizar a situação de uma entidade.
Uma entidade pode ser uma pessoa, um lugar ou um objeto que é considerado
relevante para a interação entre um usuário e uma aplicação, incluindo o
usuário e a aplicação''.

É possível, portanto, definir que um sistema computacional é sensível ao contexto
se ele fizer uso do contexto para prover informações ou serviços relevantes para
o usuário de acordo com a sua tarefa no momento \cite{dey2001understanding}.

No que concerne a assistência domiciliar à saúde, os sistemas sensíveis a
contexto podem fazer uso de informações de sensores médicos (leitura de sinais 
vitais do paciente), sensores de propósito geral (leituras no ambiente), 
ou ainda sensores virtuais (conjunto de programas cuja função é varrer as redes 
sociais e extrair informações válidas para determinada situação).























